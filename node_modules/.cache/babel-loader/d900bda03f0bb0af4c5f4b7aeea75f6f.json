{"ast":null,"code":"var _jsxFileName = \"/Users/johnflex/Desktop/PUBLIC_HTML/Practice/bingo-app/src/components/Admin/AdminDashboard.js\";\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Header from './header';\nimport '../../App.css';\nimport axios from 'axios';\n\nclass Dashboard extends Component {\n  constructor() {\n    super();\n    this.state = {\n      keyvalue: '',\n      room_id: '',\n      prizes: '',\n      listevents: [],\n      event_desc: ''\n    };\n    this.getRoomId = this.getRoomId.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  async componentDidMount() {\n    let result = await axios.post(`https://binggo-test.dokyumento.asia/index.php/Binggo/fetch_all_binggo_events`);\n    this.setState({\n      listevents: result.data.payload\n    });\n    console.log(result.data);\n  }\n\n  getRoomId(event) {\n    let idx = event.target.selectedIndex;\n    let dataset = event.target.options[idx].dataset;\n    console.log(typeof this.state.listevents[idx - 1].binggo_desc); // if(this.state.listevents[idx-1].binggo_desc === 'undefined'){\n    // }else{\n    //   this.setState({prizes: JSON.stringify(this.state.listevents[dataset.id].prizes)})\n    //   this.setState({room_id: event.target.value});\n    //   this.setState({ event_desc : this.state.listevents[idx-1].binggo_desc })\n    // }\n  }\n\n  handleSubmit(event) {\n    localStorage.setItem(\"room_id\", this.state.room_id);\n    localStorage.setItem(\"prizes\", this.state.prizes);\n    window.location.href = \"/admin-bingo\";\n    event.preventDefault();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xl-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card rounded-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"card-header text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, \"List of Bingo Events\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 19\n      }\n    }, this.state.listevents.length > 0 ? /*#__PURE__*/React.createElement(\"select\", {\n      className: \"custom-select rounded-0 mb-3\",\n      value: this.state.room_id,\n      \"data-id\": this.state.keyvalue,\n      onChange: this.getRoomId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 31\n      }\n    }, \"Select Bingo Event\"), this.state.listevents.map((list, index) => /*#__PURE__*/React.createElement(\"option\", {\n      key: list.binggo_event_id,\n      \"data-id\": index,\n      value: list.binggo_event_id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 35\n      }\n    }, list.binggo_title))) : /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"dl\", {\n      className: \"row small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"dt\", {\n      className: \"col-sm-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 23\n      }\n    }, \"Description:\"), /*#__PURE__*/React.createElement(\"dd\", {\n      className: \"col-sm-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 23\n      }\n    }, this.state.event_desc)), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, \"Host this event\"))))))));\n  }\n\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["/Users/johnflex/Desktop/PUBLIC_HTML/Practice/bingo-app/src/components/Admin/AdminDashboard.js"],"names":["React","Component","Header","axios","Dashboard","constructor","state","keyvalue","room_id","prizes","listevents","event_desc","getRoomId","bind","handleSubmit","componentDidMount","result","post","setState","data","payload","console","log","event","idx","target","selectedIndex","dataset","options","binggo_desc","localStorage","setItem","window","location","href","preventDefault","render","length","map","list","index","binggo_event_id","binggo_title"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport Header from './header';\nimport '../../App.css'\nimport axios from 'axios';\n\nclass Dashboard extends Component {\n\n  state = {\n    keyvalue: '',\n    room_id: '',\n    prizes: '',\n    listevents: [],\n    event_desc: ''\n  }\n\n  constructor() {\n    super();\n    \n    this.getRoomId = this.getRoomId.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  \n\n  async componentDidMount() {\n    let result = await axios.post(`https://binggo-test.dokyumento.asia/index.php/Binggo/fetch_all_binggo_events`)\n    this.setState({listevents: result.data.payload})\n    console.log(result.data)\n  }\n\n  getRoomId(event) {\n    let idx = event.target.selectedIndex;\n    let dataset = event.target.options[idx].dataset;\n    \n\n    console.log( typeof this.state.listevents[idx-1].binggo_desc)\n\n    // if(this.state.listevents[idx-1].binggo_desc === 'undefined'){\n\n    // }else{\n    //   this.setState({prizes: JSON.stringify(this.state.listevents[dataset.id].prizes)})\n    //   this.setState({room_id: event.target.value});\n    //   this.setState({ event_desc : this.state.listevents[idx-1].binggo_desc })\n    // }\n    \n\n\n  }\n\n  handleSubmit(event) {\n    \n    localStorage.setItem(\"room_id\", this.state.room_id)\n    localStorage.setItem(\"prizes\", this.state.prizes)\n    window.location.href = \"/admin-bingo\"\n    event.preventDefault();\n    \n  }\n\n  render() {\n    return (\n      <>\n        <Header />\n\n        <div className=\"container-fluid mt-3\">\n          <div className=\"row\">\n            <div className=\"col-xl-4\">\n              <div className=\"card rounded-0\">\n                <h5 className=\"card-header text-center\">List of Bingo Events</h5>\n                <div className=\"card-body\">\n\n                  <form onSubmit={this.handleSubmit}>\n\n                    {\n                      this.state.listevents.length > 0 ? (\n                          <select className=\"custom-select rounded-0 mb-3\" value={this.state.room_id} data-id={this.state.keyvalue} onChange={this.getRoomId}>\n                              <option>Select Bingo Event</option>\n                              {this.state.listevents.map((list, index) => \n                                  <option key={list.binggo_event_id} data-id={index} value={list.binggo_event_id} >{list.binggo_title}</option>\n                              )}\n                          </select>\n                          \n                      ):(\n                          <span></span>\n                      )\n                    }\n\n                    <dl className=\"row small\">\n                      <dt className=\"col-sm-3\">Description:</dt>\n                      <dd className=\"col-sm-9\">{this.state.event_desc}</dd>\n                    </dl>\n\n                    <button type=\"submit\" className=\"btn btn-primary btn-block\">Host this event</button>\n\n                  </form>\n\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}