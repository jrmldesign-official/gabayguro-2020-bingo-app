{"ast":null,"code":"var _jsxFileName = \"/Users/johnflex/Desktop/PUBLIC_HTML/Practice/bingo-app/src/Login.js\";\nimport React from 'react';\nimport axios from 'axios';\nexport default class Login extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      name: '',\n      email: '',\n      error: ''\n    };\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n    this.handleUserChange = this.handleUserChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.dismissError = this.dismissError.bind(this);\n  }\n\n  componentDidMount() {\n    if (localStorage.user_id === undefined || localStorage.user_id === \"undefined\") {\n      localStorage.clear();\n    } else {\n      window.location.href = \"/bingo\";\n    }\n  }\n\n  dismissError() {\n    this.setState({\n      error: ''\n    });\n  }\n\n  handleSubmit(evt) {\n    evt.preventDefault();\n\n    if (!this.state.name) {\n      return this.setState({\n        error: 'Username is required'\n      });\n    }\n\n    if (!this.state.email) {\n      return this.setState({\n        error: 'Password is required'\n      });\n    }\n\n    const user = {\n      name: this.state.name,\n      email: this.state.email\n    };\n    axios.post(`https://binggo-test.dokyumento.asia/index.php/Useraccounts/authenticate/?name=${user.name}&email=${user.email}`).then(res => {\n      if (res.data.status === \"SUCCESS\") {\n        localStorage.setItem(\"user_id\", res.data.payload.user_id);\n        window.location.href = \"/bingo\";\n      }\n\n      console.log(res);\n      console.log(res.data);\n    });\n    return this.setState({\n      error: ''\n    });\n  }\n\n  handleUserChange(evt) {\n    this.setState({\n      name: evt.target.value\n    });\n  }\n\n  handleEmailChange(evt) {\n    this.setState({\n      email: evt.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"login-body\",\n      className: \"row justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-10 col-sm-6 col-md-5 col-xl-4 pos-relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"gg-login-container\",\n      className: \"card rounded-0 border-0 shadow-sm p-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/register\",\n      className: \"small text-right mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 19\n      }\n    }, \"Register here\"), /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 19\n      }\n    }, \"GabayGuro Bingo 2020\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"row\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 19\n      }\n    }, this.state.error && /*#__PURE__*/React.createElement(\"h3\", {\n      \"data-test\": \"error\",\n      onClick: this.dismissError,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.dismissError,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }, \"\\u2716\"), this.state.error), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"exampleInputEmail1\",\n      className: \"small gg-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 23\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      className: \"form-control custorm-form-login\",\n      id: \"gg-username\",\n      value: this.state.name,\n      onChange: this.handleUserChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      id: \"emailHelp\",\n      className: \"form-text text-muted d-none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"exampleInputEmail1\",\n      className: \"small gg-text float-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 23\n      }\n    }, \"Email\"), \" \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#!\",\n      className: \"small float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 110\n      }\n    }, \"Forgot password?\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"email\",\n      className: \"form-control custorm-form-login\",\n      id: \"gg-password\",\n      value: this.state.email,\n      onChange: this.handleEmailChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      id: \"emailHelp\",\n      className: \"form-text text-muted d-none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn gg-bg text-white btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 23\n      }\n    }, \"Log in\")))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/johnflex/Desktop/PUBLIC_HTML/Practice/bingo-app/src/Login.js"],"names":["React","axios","Login","Component","constructor","state","name","email","error","handleEmailChange","bind","handleUserChange","handleSubmit","dismissError","componentDidMount","localStorage","user_id","undefined","clear","window","location","href","setState","evt","preventDefault","user","post","then","res","data","status","setItem","payload","console","log","target","value","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nexport default class Login extends React.Component {\n\n  constructor() {\n    super();\n    this.state = {\n      name: '',\n      email: '',\n      error: '',\n    };\n\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n    this.handleUserChange = this.handleUserChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.dismissError = this.dismissError.bind(this);\n  }\n\n  componentDidMount() {\n    if(localStorage.user_id === undefined || localStorage.user_id === \"undefined\"){\n      localStorage.clear()\n    }else{\n      window.location.href = \"/bingo\"\n    }\n  }\n\n  dismissError() {\n    this.setState({ error: '' });\n  }\n\n  handleSubmit(evt) {\n    evt.preventDefault();\n\n    if (!this.state.name) {\n      return this.setState({ error: 'Username is required' });\n    }\n\n    if (!this.state.email) {\n      return this.setState({ error: 'Password is required' });\n    }\n\n    const user = {\n      name: this.state.name,\n      email: this.state.email\n    };\n\n    axios.post(`https://binggo-test.dokyumento.asia/index.php/Useraccounts/authenticate/?name=${user.name}&email=${user.email}`)\n      .then(res => {\n        if(res.data.status === \"SUCCESS\"){\n          localStorage.setItem(\"user_id\", res.data.payload.user_id)\n          window.location.href = \"/bingo\"\n        }\n        console.log(res);\n        console.log(res.data);\n      })\n\n\n\n    return this.setState({ error: '' });\n  }\n\n  handleUserChange(evt) {\n    this.setState({\n      name: evt.target.value,\n    });\n  };\n\n  handleEmailChange(evt) {\n    this.setState({\n      email: evt.target.value,\n    });\n  }  \n\n  render() {\n    return (\n      <div className=\"container-fluid\">\n        <div id=\"login-body\" className=\"row justify-content-center\">\n            <div className=\"col-10 col-sm-6 col-md-5 col-xl-4 pos-relative\">\n              <div id=\"gg-login-container\" className=\"card rounded-0 border-0 shadow-sm p-3\">\n                  <a href=\"/register\" className=\"small text-right mb-5\">Register here</a>\n\n                  <h3 className=\"mb-5\">GabayGuro Bingo 2020</h3>\n\n                  <form className=\"row\" onSubmit={this.handleSubmit}>\n                  {\n                  this.state.error &&\n                  <h3 data-test=\"error\" onClick={this.dismissError}>\n                    <button onClick={this.dismissError}>✖</button>\n                    {this.state.error}\n                  </h3>\n                }\n                    <div className=\"col-12\">\n                      <div className=\"form-group\">\n                      <label htmlFor=\"exampleInputEmail1\" className=\"small gg-text\">Name</label>\n                      <input type=\"text\" name=\"name\" className=\"form-control custorm-form-login\" id=\"gg-username\" value={this.state.name} onChange={this.handleUserChange}/>\n                      <small id=\"emailHelp\" className=\"form-text text-muted d-none\"></small>\n                      </div>\n                    </div>\n                    <div className=\"col-12\">\n                      <div className=\"form-group\">\n                      <label htmlFor=\"exampleInputEmail1\" className=\"small gg-text float-left\">Email</label> <a href=\"#!\" className=\"small float-right\">Forgot password?</a>\n                      <input type=\"text\" name=\"email\" className=\"form-control custorm-form-login\" id=\"gg-password\" value={this.state.email} onChange={this.handleEmailChange}/>\n                      <small id=\"emailHelp\" className=\"form-text text-muted d-none\"></small>\n                      </div>\n                    </div>\n                    <div className=\"col-12 mt-2\">\n                      <button type=\"submit\" className=\"btn gg-bg text-white btn-block\">Log in</button>\n                    </div>\n                  </form>\n                  \n              </div>\n            </div>\n        </div>\n      </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}